# MAC Protocols for Intra‑Satellite LiFi Communication

This repository contains an OMNeT++/INET simulation study of medium access control (MAC) protocols for an **intra‑satellite LiFi data bus**. The focus is on how multiple onboard nodes share a single optical wireless channel under different traffic loads and network sizes.

The code was developed as part of a seminar at Hamburg University of Technology (TUHH), topic **“MAC‑Protocol: Handling Multiple Nodes”** within the context of optical intra‑satellite communication.

---

## Project goals

- Model an intra‑satellite **LiFi bus** with a shared optical channel and ring topology.
- Implement and compare different MAC strategies:
  - Time Division Multiple Access (**TDMA**)
  - Pure **ALOHA**
  - Simplified **CSMA** (baseline) and planned CSMA/CA with collisions and ACKs
- Evaluate how these protocols behave under:
  - Varying **traffic load** (packet inter‑arrival times)
  - Different **node counts** (4, 6, 8 nodes; ring topology)
- Derive insights for reliable, low‑interference data exchange between satellite subsystems.
---

## Simulation setup

- **Simulator:** OMNeT++ with the INET framework.
- **Scenario:** Intra‑satellite LiFi link modeled as a single shared channel:
  - Strict **line‑of‑sight (LOS)**, no reflections
  - Max range ≈ 3 m inside spacecraft
  - Target data rate ≈ 80 kbit/s (based on SatelLight LiFi transceiver)
- **Topology:**
  - Baseline: 4‑node ring (A–B–C–D, each sending to its neighbour)
  - Extended: 6‑node and 8‑node rings (TDMA node scaling experiments)
- **Traffic model:**
  - Exponential inter‑arrival time
  - Typical values: 0.05 s (high load), 0.1 s, 0.2 s (lower load)
  - Packet size: 128 bytes (TM/TC‑like messages)
  - Simulation time: 10 s per run

---

## Implemented MAC protocols

### TDMA

- Deterministic time‑slot based access; each node has a fixed slot in a global frame.
- Collision‑free by design in this model.
- Multi‑hop forwarding in the ring means one generated packet may cause multiple MAC transmissions.
### Pure ALOHA

- Uncoordinated random access: transmit immediately on packet generation.
- No carrier sensing; overlapping transmissions on the optical channel cause collisions.
- Retransmission after random backoff leads to many extra transmissions at higher loads.

### Simplified CSMA (baseline)

- Listen‑before‑talk behaviour with a random backoff parameter.
- Current version does **not** model collisions or ACK‑based retransmissions; each packet is sent once, so it behaves optimistically and serves as a baseline.

Planned future work: extend CSMA to full **CSMA/CA** with collision detection, ACKs, and a hidden‑node scenario.

---

## Metrics

The following OMNeT++ scalar metrics are collected per node and then aggregated:

- `numGenerated` – packets generated by the application layer
- `numFromUpper` – packets entering the MAC
- `numSent` – MAC transmissions over the LiFi channel
- `numCollisions` – detected collisions (ALOHA, future CSMA/CA)
- `numDropped` – packets dropped at MAC
- Derived metrics (post‑processing):
  - Packet Delivery Ratio (PDR)
  - Throughput (delivered packets/s)
  - Collision rate and channel efficiency

---

## Repository structure

Typical layout (may vary slightly):

- `src/`
  - `TDMAMac.cc/.h` – TDMA implementation
  - `AlohaMac.cc/.h` – pure ALOHA implementation
  - `CSMAMac.cc/.h` – simplified CSMA implementation
  - `LifiApp.cc/.h` – traffic generation application
- `simulations/`
  - `LifiNode.ned` – node definition
  - `LifiNetwork.ned` – 4‑node ring network
  - `LifiNetwork6.ned`, `LifiNetwork8.ned` – extended TDMA rings (6 and 8 nodes)
  - `LifiNetworkAloha.ned`, `LifiNetworkCSMA.ned` – protocol‑specific networks
  - `omnetpp.ini` – experiment configurations (MAC selection, load levels, node counts)
  - `results/` – exported scalar results (generated by simulations)

---

## How to run

1. Install **OMNeT++** and **INET** and set up the environment.
2. Import this project into the OMNeT++ IDE.
3. Build the project.
4. Choose a configuration from `omnetpp.ini`, for example:
   - `TDMA_HighLoad`
   - `ALOHA_MidLoad`
   - `TDMA_6nodes_HighLoad`
5. Run the simulation and inspect the scalar results or export them as CSV for analysis.

---

## Acknowledgements

The project is based on the “Recent Topics in Optical Intra‑Satellite Communication” seminar at TUHH and uses parameters inspired by the SatelLight LiFi transceiver and related optical wireless bus research. [file:1][file:24]
